!function(t){function e(e){for(var a,o,r=e[0],c=e[1],u=e[2],p=0,d=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(l&&l(e);d.length;)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={1:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;i.push(["ijGc",0,3]),n()}({"/Pul":function(t){t.exports=JSON.parse('{"hello_message":"Hello ${message}","home.connect_wallet":"Connect to Wallet...","header.connect_to_wallet":"Connect to a wallet","tips.connect_fail":"Please open ioPay desktop and unlock wallet first.","tips.connect_fail.mobile":"Please allow mimo access your wallet."}')},0:function(t,e){},"08G2":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var a=n("MQaB"),s=n.n(a),i=n("QgVb"),o=n("eSV8");class r{constructor({provider:t="wss://local.iotex.io:64102",options:e={timeout:5e3}}){this.provider=t,this.options=e}start(){return this.init(),this}async init(){return this.ws=new s.a(this.provider,this.options),this.ws.onOpen.addListener(()=>{o.a.eventBus.emit("client.iopay.connected")}),this.ws.onClose.addListener=()=>{console.log("close"),o.a.eventBus.emit("client.iopay.close")},this.ws.onError.addListener=()=>{o.a.eventBus.emit("client.iopay.connectError")},await this.ws.open(),this}async wait(){for(var t,e;!(null===(t=this.ws)||void 0===t?void 0:t.isOpened);)await o.a.helper.promise.sleep(500),(null===(e=this.ws)||void 0===e?void 0:e.isOpened)||await this.init();return Promise.resolve(!0)}async signAndSend(e){await this.wait();const n={envelop:t.from(e.bytestream()).toString("hex"),type:"SIGN_AND_SEND",origin:this.getOrigin()},a=await this.ws.sendRequest(n);return a.actionHash?a.actionHash:a}async getAccount(t){const e=new i.Account;return e.address=t,e}async getAccounts(){await this.wait();return(await this.ws.sendRequest({type:"GET_ACCOUNTS"})).accounts}getOrigin(t=""){let e="";return e=void 0!==location&&location.hasOwnProperty("hostname")&&location.hostname.length?location.hostname:t,"www."===e.substr(0,4)&&(e=e.replace("www.","")),e}}}).call(this,n("HDXh").Buffer)},1:function(t,e){},10:function(t,e){},11:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},6:function(t,e){},7:function(t,e){},"7TM0":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s}));var a=n("eSV8");class s{isSSR(){return"undefined"===typeof window}onSSR(t){this.isSSR()&&t()}isBrowser(){return"object"===typeof window}onBrowser(t){this.isBrowser()&&t()}getEnv(){return this.isBrowser()?window.__ROOT__STORE__.base:this.isSSR()?t.env:void 0}isIoPayMobile(){return!a.a.env.isSSR()&&(navigator.userAgent&&(navigator.userAgent.includes("IoPayAndroid")||navigator.userAgent.includes("IoPayiOs")))}getBoolean(t){return"string"==typeof t?"true"==t:"boolean"==typeof t&&t}}}).call(this,n("8oxB"))},8:function(t,e){},9:function(t,e){},DsvN:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var a=n("HDXh"),s=n("7zRj"),i=n.n(s),o=n("vgmO"),r=n.n(o),c=n("QgVb"),u=n("im8a");let l=Math.round(1e4*Math.random());class p{constructor(){this.init(),this.getAccounts()}setupWebViewJavascriptBridge(t){if(r.a.WebViewJavascriptBridge)return t(r.a.WebViewJavascriptBridge);{if(i.a.addEventListener("WebViewJavascriptBridgeReady",()=>{t(r.a.WebViewJavascriptBridge)},!1),r.a.WVJBCallbacks)return r.a.WVJBCallbacks.push(t);r.a.WVJBCallbacks=[t];const e=i.a.createElement("iframe");e.style.display="none",e.src="https://bridge-loaded",i.a.documentElement&&(i.a.documentElement.appendChild(e),r.a.setTimeout(()=>{i.a.documentElement&&i.a.documentElement.removeChild(e)},0))}}init(){this.setupWebViewJavascriptBridge(t=>{try{t.init((t,e)=>{r.a.console.log("JS got a message",t);const n={"Javascript Responds":"\u6d4b\u8bd5\u4e2d\u6587!"};r.a.console.log("JS responding with",n.toString()),e(n)})}catch(e){r.a.console.log("data error from android: = ",e.toString())}t.registerHandler("signAndSendJsFunction",(t,e)=>{r.a.console.log("data from signAndSendJsFunction register handler: = ",String(t)),e("responseData signAndSendJsFunction test")})})}async signAndSend(t){const e=l++,n={reqId:e,envelop:a.Buffer.from(t.bytestream()).toString("hex"),type:"SIGN_AND_SEND"};return new Promise(t=>r.a.WebViewJavascriptBridge.callHandler("sign_and_send",JSON.stringify(n),n=>{let a={reqId:-1,actionHash:""};try{a=JSON.parse(n)}catch(s){return}a.reqId===e&&t(a.actionHash)}))}async getAccount(t){const e=new c.Account;return e.address=t,r.a.console.log("getAccount account ",e),e}async getAccounts(){const t=l++,e={reqId:t,type:"GET_ACCOUNTS"};return r.a.console.log(JSON.stringify(e)),new Promise(async e=>{r.a.document.addEventListener("message",async n=>{let a={reqId:-1,accounts:[]};try{a=JSON.parse(n.data)}catch(s){return}r.a.console.log(a),a.reqId===t&&e(a.accounts)})})}signMessage(t){r.a.console.log("signMessage start");const e=l++,n={reqId:e,type:"SIGN",message:t};return new Promise(t=>r.a.WebViewJavascriptBridge.callHandler("sign",JSON.stringify(n),n=>{r.a.console.log("signMessage sign responseData: ",n);let s={reqId:-1,signature:new a.Buffer("")};try{s=JSON.parse(n)}catch(i){return void r.a.console.log("signMessage: Error when parse responseData",i)}s.reqId===e&&t(s.signature)}))}async getIoAddressFromIoPay(){r.a.console.log("getIoAddressFromIoPay start");const t=l++,e={reqId:t,type:"GET_ACCOUNTS"};let n=1;for(;!r.a.WebViewJavascriptBridge;)r.a.console.log("getIoAddressFromIoPay get_account sleepPromise sec: ",n),await Object(u.a)(200*n),n*=1.6,n>=48&&(n=48);const a=setTimeout(()=>{location.reload()},5e3);return new Promise(n=>r.a.WebViewJavascriptBridge.callHandler("get_account",JSON.stringify(e),e=>{clearTimeout(a),r.a.console.log("getIoAddressFromIoPay get_account responseData: ",e);let s={reqId:-1,address:""};try{s=JSON.parse(e)}catch(i){return}s.reqId===t&&n(s.address)}))}}},"EU8/":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("eSV8");const{NODE_ENV:s,FORCE_HTTPS:i}=a.a.env.getEnv(),o="production"==s,r={IS_PROD:o,IOTEX_CORE_ENDPOPINT:o?"https://api.iotex.one:443":"https://api.testnet.iotex.one:443",IOTEXSCAN_ENDPOINT:o?"http://iotexscan.io":"http://testnet.iotexscan.io",FORCE_HTTPS:a.a.env.getBoolean(i)}},PLkl:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("+qE3");const s=new a.EventEmitter},eSV8:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const a={promise:{sleep:async t=>new Promise(e=>setTimeout(e,t)),runAsync:async t=>t.then(t=>[null,t]).catch(t=>[t,null])},string:{truncate(t="",e,n=""){if(t.length<=e)return t;const a=e-(n=n||"...").length,s=Math.ceil(a/2),i=Math.floor(a/2);return t.substr(0,s)+n+t.substr(t.length-i)}}};var s=n("7TM0"),i=n("PLkl");const o={helper:a,env:new s.a,eventBus:i.a}},ijGc:function(t,e,n){"use strict";n.r(e);var a=n("q1tI"),s=n.n(a),i=(n("aSoP"),n("i8i4")),o=n.n(i),r=n("eSV8"),c=n("2vnA"),u=n("aoTL"),l=n("xy+9"),p=n.n(l),d=function(t,e,n,a){var s,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},y=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let m=class{constructor(){this.NODE_ENV=""}};d([c.observable,y("design:type",Object)],m.prototype,"NODE_ENV",void 0),m=d([p()({name:"base"})],m);var g=n("/Pul"),f=n("vDqi"),b=n.n(f),w=function(t,e,n,a){var s,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},h=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const v={"en-US":"en","zh-CN":"zh_CN"};let S=class{constructor(){this.langPath="/translations",this.lang="en",this.translations={en:g}}get translation(){return this.translations[this.lang]}async init(){const t=new URLSearchParams(window.location.search).get("lang"),e=navigator.languages?navigator.languages[0]:navigator.language;let n=t||localStorage.getItem("lang")||e;v[n]&&(n=v[n]),await this.loadTranslation(n),this.lang=n}async setLang(t){await this.loadTranslation(t),localStorage.setItem("lang",t),this.lang=t}async loadTranslation(t){if(this.translations[t])return;const e=await b.a.get(`${this.langPath}/${t}.json`);e.data&&(this.translations[t]=e.data)}t(t,e){let n=this.translation[t]||this.translations.en[t];return n?(e&&Object.keys(e).forEach(t=>{n=n.replace(`\${${t}}`,e[t])}),n):t}};w([c.observable,h("design:type",String)],S.prototype,"lang",void 0),w([c.observable,h("design:type",Object)],S.prototype,"translations",void 0),w([c.computed,h("design:type",Object),h("design:paramtypes",[])],S.prototype,"translation",null),w([c.action.bound,h("design:type",Function),h("design:paramtypes",[]),h("design:returntype",Promise)],S.prototype,"init",null),w([c.action.bound,h("design:type",Function),h("design:paramtypes",[String]),h("design:returntype",Promise)],S.prototype,"setLang",null),w([c.action.bound,h("design:type",Function),h("design:paramtypes",[Object]),h("design:returntype",Promise)],S.prototype,"loadTranslation",null),S=w([p()({name:"lang"})],S);var O=n("zMRQ"),x=n("TsHf");const P=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"cycleIncrementalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"donationPoolAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"lastClaimViewIDs",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"genesisPoolAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"vps",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastDonationPoolClaimViewID",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"rewardPoolAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"authNonces",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastRewardPoolClaimViewID",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"cycleLength",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_vps",type:"address"},{name:"_genesisPoolAddress",type:"address"},{name:"_rewardPoolAddress",type:"address"},{name:"_donationPoolAddress",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"claimer",type:"address"},{indexed:!1,name:"owner",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"viewID",type:"uint256"}],name:"Claim",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"height",type:"uint256"},{indexed:!1,name:"incremetnalSupply",type:"uint256"}],name:"Decay",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"viewID",type:"uint256"}],name:"UpdateView",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_addedValue",type:"uint256"}],name:"increaseApproval",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_subtractedValue",type:"uint256"}],name:"decreaseApproval",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_newRewardPool",type:"address"}],name:"setRewardPoolAddress",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_newDonationPool",type:"address"}],name:"setDonationPoolAddress",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_newVPS",type:"address"}],name:"setVPS",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"cycle",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"stakingPoolSize",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"rewardPoolSize",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"donationPoolSize",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"incrementalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decayedIncrementalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"updateCycle",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"claimableAmount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"claim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"owner",type:"address"},{name:"signature",type:"bytes"},{name:"nonce",type:"uint256"}],name:"claimAs",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];var _=n("ngZm"),M=n("kB5k"),I=n.n(M),A=n("PLkl"),E=n("kLXV"),R=function(t,e,n,a){var s,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},j=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let T=class{constructor(){this.account={address:"",balance:""},this.actionHash="",this.isConnectWsError=!1}async init(){this.initEvent(),await this.initWS()}connectWallet(){if(this.initWS(),!this.account.address||this.isConnectWsError){const t=C.lang.t(r.a.env.isIoPayMobile()?"tips.connect_fail.mobile":"tips.connect_fail"),e=E.a.warning({onOk:()=>e.destroy(),title:t});setTimeout(()=>{e.destroy()},5e3)}}initEvent(){r.a.eventBus.on("client.iopay.connected",()=>{console.log("iopay-desktop connected."),this.isConnectWsError=!1}).on("client.iopay.close",()=>{this.account={address:"",balance:""}}).on("client.iopay.connectError",()=>{this.account={address:"",balance:""},this.isConnectWsError=!0})}async initWS(){const[t,e]=await r.a.helper.promise.runAsync(O.a.getIoPayAddress());if(t||!e)return setTimeout(()=>{this.initWS()},2e3);this.account.address=e,this.loadAccount(),setTimeout(()=>{A.a.emit("client.wallet.onAccount")},500)}async loadAccount(){if(!this.account.address)return;const t=await O.a.getAntenna().iotx.getAccount({address:this.account.address});if(null===t||void 0===t?void 0:t.accountMeta){const{balance:e}=null===t||void 0===t?void 0:t.accountMeta;this.account.balance=Object(x.fromRau)(e,"iotx"),A.a.emit("client.wallet.iotx.onBalance")}}async claimVita(){try{const t=new _.Contract(P,"io1hp6y4eqr90j7tmul4w2wa8pm7wx462hq0mg4tw",{provider:O.a.antenna.iotx,signer:O.a.antenna.iotx.signer}),e=await t.methods.claim({account:O.a.antenna.iotx.accounts[0],...O.a.defaultContractOptions});this.actionHash=e.actionHash}catch(t){window.console.log("failed to claim vita: "+t)}}async transferVita(){try{const t=new _.Contract(P,"io1hp6y4eqr90j7tmul4w2wa8pm7wx462hq0mg4tw",{provider:O.a.antenna.iotx,signer:O.a.antenna.iotx.signer}),e=await t.methods.decimals({account:O.a.antenna.iotx.accounts[0],...O.a.defaultContractOptions}),n=new I.a(1).multipliedBy(new I.a("1e"+e.toNumber())),a=await t.methods.transfer(this.account.address,n.toString(),{account:O.a.antenna.iotx.accounts[0],...O.a.defaultContractOptions});this.actionHash=a.actionHash}catch(t){window.console.log("failed to transfer vita: "+t)}}async transferIotx(){try{const t=await O.a.antenna.iotx.sendTransfer({to:this.account.address,from:this.account.address,value:Object(x.toRau)("1","Iotx"),gasLimit:"100000",gasPrice:Object(x.toRau)("1","Qev")});this.actionHash=t.actionHash}catch(t){window.console.log("failed to transfer iotx: "+t)}}};R([c.observable,j("design:type",Object)],T.prototype,"account",void 0),R([c.observable,j("design:type",Object)],T.prototype,"actionHash",void 0),R([c.observable,j("design:type",Object)],T.prototype,"isConnectWsError",void 0),R([c.action.bound,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],T.prototype,"init",null),R([c.action.bound,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],T.prototype,"connectWallet",null),R([c.action.bound,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],T.prototype,"initWS",null),R([c.action.bound,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],T.prototype,"loadAccount",null),R([c.action.bound,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],T.prototype,"claimVita",null),R([c.action.bound,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],T.prototype,"transferVita",null),R([c.action.bound,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],T.prototype,"transferIotx",null),T=R([p()({name:"wallet"})],T),r.a.env.isSSR()&&Object(u.a)(!0);const B=()=>({base:new m,lang:new S,wallet:new T});const C=function(){if(r.a.env.isSSR())return B();const t=B();return Object.keys(t).forEach(e=>{t[e]=Object(c.extendObservable)(t[e],window.__ROOT__STORE__[e])}),t}(),N=s.a.createContext(C),$=({children:t})=>r.a.env.isSSR()?null:t;var D=n("h2bA");const{styled:V,css:J}=Object(D.a)({prefix:"",tokens:{colors:{$bg:"white",$gray500:"hsl(206,10%,76%)",$blue500:"hsl(206,100%,50%)",$purple500:"hsl(252,78%,60%)",$green500:"hsl(148,60%,60%)",$red500:"hsl(352,100%,62%)"},height:{$0:"0",$1:"0.25rem",$2:"0.5rem",$3:"0.75rem",$4:"1rem",$5:"1.25rem",$6:"1.5rem",$7:"1.75rem",$8:"2rem"},space:{$1:"5px",$2:"10px",$3:"15px",autoX:"0 auto"},fontSizes:{$xs:"0.75rem",$sm:"0.875rem",$base:"1rem",$lg:"1.125rem",$xl:"1.25rem",$2xl:"1.5rem",$3xl:"1.875rem",$4xl:"2.25rem",$5xl:"3rem",$6xl:"4rem"},fonts:{$untitled:"Untitled Sans, apple-system, sans-serif",$mono:"S\xf6hne Mono, menlo, monospace"},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{},borderStyles:{},radii:{},shadows:{},zIndices:{},transitions:{}},breakpoints:{sm:t=>`@media (min-width: 640px) { ${t} }`,md:t=>`@media (min-width: 768px) { ${t} }`,lg:t=>`@media (min-width: 1024px) { ${t} }`,xl:t=>`@media (min-width: 1280px) { ${t} }`},utils:{m:t=>t=>({marginTop:t,marginBottom:t,marginLeft:t,marginRight:t}),mt:t=>t=>({marginTop:t}),mr:t=>t=>({marginRight:t}),mb:t=>t=>({marginBottom:t}),ml:t=>t=>({marginLeft:t}),mx:t=>t=>({marginLeft:t,marginRight:t}),my:t=>t=>({marginTop:t,marginBottom:t}),p:t=>t=>({paddingTop:t,paddingBottom:t,paddingLeft:t,paddingRight:t}),pt:t=>t=>({paddingTop:t}),pr:t=>t=>({paddingRight:t}),pb:t=>t=>({paddingBottom:t}),pl:t=>t=>({paddingLeft:t}),px:t=>t=>({paddingLeft:t,paddingRight:t}),py:t=>t=>({paddingTop:t,paddingBottom:t}),size:t=>t=>({width:t,height:t}),linearGradient:t=>t=>({backgroundImage:`linear-gradient(${t})`}),br:t=>t=>({borderRadius:t}),flexBetweenCenter:t=>(t="row")=>({flexDirection:t,display:"flex",justifyContent:"space-between",alignItems:"center"}),flexCenterCenter:t=>(t="row")=>({flexDirection:t,display:"flex",justifyContent:"center",alignItems:"center"})}}),W={main:J({height:"100vh"}),content:J({height:"100%",backgroundColor:"$bg"})},k=t=>s.a.createElement($,null,s.a.createElement("div",{className:W.main},s.a.createElement("div",{className:W.content},t.children)));const q=n("UbSp").endpoints,H={waitAccount:async()=>new Promise((t,e)=>{O.a.getAntenna().iotx.accounts[0]?t(O.a.getAntenna().iotx.accounts[0]):A.a.once("client.wallet.onAccount",()=>{t(O.a.getAntenna().iotx.accounts[0])})}),waitIotxBalance:async()=>new Promise((t,e)=>{C.wallet.account.balance?t(C.wallet.account.balance):A.a.once("client.wallet.iotx.onBalance",()=>{t(C.wallet.account.balance)})})};var L=()=>{const{lang:t,wallet:e}=s.a.useContext(N);return Object(a.useEffect)(()=>{t.init(),e.init(),q.login("test","123").then(async()=>{const t=await q.me();console.log("login success",t),await q.logout();const e=await q.me();console.log("logout success",e)}),H.waitAccount().then(t=>{console.log("load account success:",t.address)}),H.waitIotxBalance().then(t=>{console.log("load iotx balance success:",t)})},[]),s.a.createElement(k,null)};n("TpwP");(0,o.a.hydrate)(s.a.createElement(L,null),document.getElementById("root"))},zMRQ:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return u}));var a=n("AkW2"),s=n.n(a),i=n("08G2"),o=n("eSV8"),r=n("EU8/"),c=n("DsvN");class u{static get account(){var t,e;return null===(e=null===(t=this.antenna)||void 0===t?void 0:t.iotx)||void 0===e?void 0:e.accounts[0]}static getAntenna(){if(this.antenna)return this.antenna;if(o.a.env.isBrowser()&&!o.a.env.isIoPayMobile()){this.wsSigner=new i.a({options:{packMessage:t=>JSON.stringify(t),unpackMessage:t=>JSON.parse(t),attachRequestId:(t,e)=>Object.assign({reqId:e},t),extractRequestId:t=>t&&t.reqId}});const t=new s.a(r.a.IOTEX_CORE_ENDPOPINT,{signer:this.wsSigner.start()});return this.antenna=t,t}if(o.a.env.isIoPayMobile()){this.jsSigner=new c.a;const t=new s.a(r.a.IOTEX_CORE_ENDPOPINT,{signer:this.jsSigner});return this.antenna=t,t}if(o.a.env.isSSR()){const t=new s.a(r.a.IOTEX_CORE_ENDPOPINT);return this.antenna=t,t}}static async getIoPayAddress(){if(u.antenna||(u.antenna=u.getAntenna()),o.a.env.isIoPayMobile()){const t=await u.jsSigner.getIoAddressFromIoPay();return u.antenna.iotx.accounts[0]=await u.jsSigner.getAccount(t),t}if(o.a.env.isBrowser()){const t=await u.wsSigner.getAccounts();return t[0]&&(u.antenna.iotx.accounts[0]=await u.wsSigner.getAccount(t[0].address)),t&&t[0]&&t[0].address||""}}static async getIotxBalance(t){const e=u.getAntenna(),{accountMeta:n}=await e.iotx.getAccount({address:t});return Number(fromRau(n.balance,"Iotx"))}static async signMessage(e){const n=u.getAntenna();if(n.iotx.signer&&n.iotx.signer.signMessage){const a=await n.iotx.signer.signMessage(e);return"object"===typeof a?t.from(a).toString("hex"):a}const a=n.iotx.accounts[0],s=a&&await a.sign(e);return s&&s.toString("hex")||""}}u.defaultContractOptions={gasLimit:"20000000",gasPrice:"1000000000000"},u.antenna=null,u.wsSigner=null,u.jsSigner=null}).call(this,n("HDXh").Buffer)}});
//# sourceMappingURL=client.cc79712d.js.map